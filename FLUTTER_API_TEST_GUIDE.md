# 🧪 Flutter API集成測試指南

## 🎯 測試目標

現在Flutter應用已經成功集成了真實的後端API！讓我們測試以下功能：

### ✅ **已完成的集成**
1. **用戶註冊** - 使用真實API註冊新用戶
2. **用戶登入** - 使用真實API登入
3. **後端服務** - 在 `http://localhost:3000` 運行

---

## 🚀 **測試步驟**

### **步驟1: 確保後端服務運行**
```powershell
# 檢查後端服務是否運行
.\test_all_apis.ps1
```
應該看到所有API測試都通過 ✅

### **步驟2: 啟動Flutter應用**
```bash
flutter run
```
或使用您的IDE啟動應用

### **步驟3: 測試註冊功能**
1. 點擊「註冊」按鈕
2. 輸入測試資料：
   - **電子郵件**: `test@example.com`
   - **密碼**: `123456`
3. 點擊「註冊」按鈕
4. 應該會跳轉到「基本資料填寫」頁面
5. 填寫完整資料後點擊「完成註冊」
6. 應該看到「註冊成功！請登入您的帳戶」訊息

### **步驟4: 測試登入功能**
1. 在登入頁面輸入：
   - **電子郵件**: `test@example.com`
   - **密碼**: `123456`
2. 點擊「登入」按鈕
3. 應該看到「登入成功！」訊息
4. 自動跳轉到主頁面

---

## 🔍 **預期結果**

### **註冊流程**
```
用戶輸入 → 跳轉基本資料頁面 → 填寫資料 → API調用 → 註冊成功 → 返回登入頁面
```

### **登入流程**
```
用戶輸入 → API調用 → 登入成功 → 跳轉主頁面
```

### **API響應**
- **成功**: 顯示成功訊息並跳轉
- **失敗**: 顯示錯誤訊息（如電子郵件已存在、密碼錯誤等）

---

## 🐛 **常見問題排查**

### **Q: 註冊時出現「註冊失敗」**
**A**: 檢查後端服務是否運行：
```powershell
curl http://localhost:3000/health
```

### **Q: 登入時出現「登入失敗」**
**A**: 可能是：
1. 後端服務未運行
2. 用戶不存在（需要先註冊）
3. 密碼錯誤

### **Q: 應用崩潰或無法啟動**
**A**: 檢查編譯錯誤：
```bash
flutter analyze
flutter doctor
```

### **Q: API調用超時**
**A**: 確保後端服務在正確端口運行：
- 後端：http://localhost:3000
- 檢查防火牆設置

---

## 📱 **測試檢查清單**

- [ ] 後端服務正常運行
- [ ] Flutter應用成功啟動
- [ ] 註冊功能正常（跳轉到基本資料頁面）
- [ ] 基本資料填寫正常
- [ ] 註冊API調用成功
- [ ] 登入功能正常
- [ ] 登入API調用成功
- [ ] 成功跳轉到主頁面

---

## 🎯 **下一步計劃**

### **即將實裝的功能**
1. **文章發布** - 發布文章到真實API
2. **文章列表** - 從API獲取文章數據
3. **搜索功能** - 使用API搜索文章
4. **互動功能** - 點讚、評論、關注

### **數據庫升級**
- 安裝MongoDB以獲得持久化數據
- 或使用MongoDB Atlas雲端數據庫

---

## 💡 **測試提示**

1. **保持後端運行**: 測試期間確保後端服務始終運行
2. **清除應用數據**: 如需重新測試，清除應用數據
3. **檢查日誌**: 查看Flutter和後端的日誌輸出
4. **網絡連接**: 確保設備/模擬器能訪問localhost:3000

---

## 🎉 **成功標準**

當您能夠：
- ✅ 成功註冊新用戶
- ✅ 成功登入現有用戶
- ✅ 看到真實的API響應
- ✅ 應用正常跳轉和導航

就表示Flutter與後端API的集成成功了！🚀



